[gd_scene format=3 uid="uid://bc8inpmgj57ne"]

[ext_resource type="PackedScene" uid="uid://b611342n8rhyw" path="res://Scenes/ui.tscn" id="1_k5f4k"]
[ext_resource type="PackedScene" uid="uid://cd3tju67xah55" path="res://Scenes/player.tscn" id="1_tumq0"]
[ext_resource type="Material" uid="uid://bnxvyht4twwum" path="res://Materials/wall.tres" id="2_6phgx"]
[ext_resource type="Material" uid="uid://dxvaw0qc8u2rd" path="res://Materials/floor.tres" id="2_81xng"]
[ext_resource type="Material" uid="uid://b08vp6u07xqro" path="res://Materials/wall2.tres" id="4_wqkje"]
[ext_resource type="PackedScene" uid="uid://hpfjta44rurm" path="res://Scenes/light.tscn" id="6_0f350"]
[ext_resource type="PackedScene" uid="uid://bjl3jv6rvfu2h" path="res://Scenes/table.tscn" id="7_8c0lf"]
[ext_resource type="PackedScene" uid="uid://doiinythr3dgv" path="res://Scenes/flashlight.tscn" id="8_754fn"]
[ext_resource type="AudioStream" uid="uid://benodiijv6apk" path="res://Sounds/ambience.mp3" id="9_bvt00"]
[ext_resource type="Script" uid="uid://bpbx6f8xpnoel" path="res://Scripts/beginning_cutscene.gd" id="10_oqgf2"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_51e2h"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_tumq0"]
sky_material = SubResource("ProceduralSkyMaterial_51e2h")

[sub_resource type="Environment" id="Environment_k5f4k"]
background_mode = 1
background_color = Color(0.16745102, 0.16745102, 0.16745102, 1)
sky = SubResource("Sky_tumq0")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="BoxShape3D" id="BoxShape3D_51e2h"]

[sub_resource type="BoxMesh" id="BoxMesh_tumq0"]

[sub_resource type="Animation" id="Animation_oqgf2"]
length = 8.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("cutscene_cam:position")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 8),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(-4.3856316, 0.85665464, -33.445534), Vector3(-5.6318793, 1.9574602, -30.349823)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("cutscene_cam:rotation")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1, 2.5, 8),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector3(0, -3.1415925, 0), Vector3(0.3298672, -2.645919, 0), Vector3(0.3298672, -3.6390114, 0), Vector3(0, -1.5237422, 0)]
}

[sub_resource type="Animation" id="Animation_bvt00"]
resource_name = "beginning"
length = 8.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("cutscene_cam:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-4.3856316, 0.85665464, -33.445534)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("cutscene_cam:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, -3.1415925, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_oqgf2"]
_data = {
&"RESET": SubResource("Animation_bvt00"),
&"beginning": SubResource("Animation_oqgf2")
}

[node name="level" type="Node3D" unique_id=524820426]

[node name="UI" parent="." unique_id=133724784 instance=ExtResource("1_k5f4k")]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1362118628]
environment = SubResource("Environment_k5f4k")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=1891446504]
transform = Transform3D(1, 0, 0, 0, 0.7071068, 0.7071068, 0, -0.7071068, 0.7071068, 0, 6.7604427, 0)
visible = false
shadow_enabled = true

[node name="floors_and_walls" type="Node3D" parent="." unique_id=513707998]

[node name="floor" type="StaticBody3D" parent="floors_and_walls" unique_id=1546409189]
transform = Transform3D(42.629066, 0, 0, 0, 1, 0, 0, 0, 69.39393, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/floor" unique_id=459057489]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/floor" unique_id=40847805]
material_override = ExtResource("2_81xng")
mesh = SubResource("BoxMesh_tumq0")

[node name="ceiling" type="StaticBody3D" parent="floors_and_walls" unique_id=1051115234]
transform = Transform3D(42.629066, 0, 0, 0, 1, 0, 0, 0, 69.39393, 0, 6.0947495, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/ceiling" unique_id=1995709826]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/ceiling" unique_id=1892653796]
material_override = ExtResource("2_81xng")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall" type="StaticBody3D" parent="floors_and_walls" unique_id=1576088888]
transform = Transform3D(9.999678, -0.04014214, 0, 0.08028428, 4.999839, 0, 0, 0, 10, -12.090753, 3.0780916, -19.89098)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall" unique_id=1431356507]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall" unique_id=550675622]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall6" type="StaticBody3D" parent="floors_and_walls" unique_id=688726306]
transform = Transform3D(9.999678, -0.04014214, 0, 0.08028428, 4.999839, 0, 0, 0, 10, 2.3136358, 3.0780916, -19.89098)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall6" unique_id=1513914316]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall6" unique_id=996794978]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall16" type="StaticBody3D" parent="floors_and_walls" unique_id=1365312566]
transform = Transform3D(8.880067, -0.04017823, 0, 0.07129528, 5.0043335, 0, 0, 0, 10, 15.074113, 3.0780916, -19.89098)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall16" unique_id=1263648597]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall16" unique_id=1130689765]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall2" type="StaticBody3D" parent="floors_and_walls" unique_id=491638112]
transform = Transform3D(10, 0.0005236007, 0, -0.0010472015, 5, 0, 0, 0, 10, 8.218276, 3.0780916, -6.4063263)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall2" unique_id=6902921]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall2" unique_id=1193952343]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall13" type="StaticBody3D" parent="floors_and_walls" unique_id=2014801874]
transform = Transform3D(10, 0.0005236007, 0, -0.0010472015, 5, 0, 0, 0, 10, -0.26963234, 3.0780916, 12.023138)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall13" unique_id=1545258084]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall13" unique_id=2721186]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall15" type="StaticBody3D" parent="floors_and_walls" unique_id=1125236572]
transform = Transform3D(10, 0.0005236007, 0, -0.0010472015, 5, 0, 0, 0, -1.7586768, 6.6064854, 3.0780916, 12.023138)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall15" unique_id=642667720]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall15" unique_id=1183499405]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall14" type="StaticBody3D" parent="floors_and_walls" unique_id=410268050]
transform = Transform3D(10, 0.0005236007, 0, -0.0010472015, 5, 0, 0, 0, 10, 14.540786, 3.0780916, 12.023138)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall14" unique_id=649623714]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall14" unique_id=1852838252]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall5" type="StaticBody3D" parent="floors_and_walls" unique_id=1577118166]
transform = Transform3D(40.811478, 0.00052372506, 0, -0.004273784, 5.0011873, 0, 0, 0, 2.257589, -0.3645506, 3.0780916, 33.489063)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall5" unique_id=416750569]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall5" unique_id=1304383786]
material_override = ExtResource("4_wqkje")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall10" type="StaticBody3D" parent="floors_and_walls" unique_id=1460184020]
transform = Transform3D(40.811478, 0.00052372506, 0, -0.004273784, 5.0011873, 0, 0, 0, 2.257589, -0.3645506, 3.0780916, -33.898006)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall10" unique_id=447659905]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall10" unique_id=1434139858]
material_override = ExtResource("4_wqkje")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall7" type="StaticBody3D" parent="floors_and_walls" unique_id=1633124490]
transform = Transform3D(9.999678, -0.04014214, 0, 0.08028428, 4.999839, 0, 0, 0, 10, -4.873868, 3.0780916, -6.508011)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall7" unique_id=2102405589]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall7" unique_id=2123491817]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall11" type="StaticBody3D" parent="floors_and_walls" unique_id=1224200030]
transform = Transform3D(9.999678, -0.04014214, 0, 0.08028428, 4.999839, 0, 0, 0, 10, -17.472736, 3.0780916, -6.5454664)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall11" unique_id=1078432588]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall11" unique_id=1698955549]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall12" type="StaticBody3D" parent="floors_and_walls" unique_id=1658148293]
transform = Transform3D(9.999678, -0.04014214, 0, 0.08028428, 4.999839, 0, 0, 0, 10, -17.472736, 3.0780916, 12.21188)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall12" unique_id=689768026]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall12" unique_id=170743381]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall8" type="StaticBody3D" parent="floors_and_walls" unique_id=690228809]
transform = Transform3D(2.2483954, -0.040391963, 0, 0.018051662, 5.030955, 0, 0, 0, 75.60145, -20.055902, 3.0780916, 0.41805267)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall8" unique_id=478729746]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall8" unique_id=1907439559]
material_override = ExtResource("4_wqkje")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall9" type="StaticBody3D" parent="floors_and_walls" unique_id=721780178]
transform = Transform3D(2.2483954, -0.040391963, 0, 0.018051662, 5.030955, 0, 0, 0, 75.60145, 20.321516, 3.0780916, 0.41805267)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall9" unique_id=142152462]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall9" unique_id=57969526]
material_override = ExtResource("4_wqkje")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall3" type="StaticBody3D" parent="floors_and_walls" unique_id=873640001]
transform = Transform3D(1.3869244, -0.040419728, 0, 0.011135181, 5.0344133, 0, 0, 0, 10, 1.2266407, 3.0780916, -29.585672)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall3" unique_id=2006628055]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall3" unique_id=842463808]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="wall4" type="StaticBody3D" parent="floors_and_walls" unique_id=822134297]
transform = Transform3D(1.3869244, -0.040419724, 0, 0.011135172, 5.0344095, -0.012042768, 1.340984e-05, 0.006062828, 9.999994, -9.069509, 3.0780916, -29.585672)

[node name="CollisionShape3D" type="CollisionShape3D" parent="floors_and_walls/wall4" unique_id=1405268002]
shape = SubResource("BoxShape3D_51e2h")

[node name="MeshInstance3D" type="MeshInstance3D" parent="floors_and_walls/wall4" unique_id=1263666963]
material_override = ExtResource("2_6phgx")
mesh = SubResource("BoxMesh_tumq0")

[node name="Player" parent="." unique_id=1211612180 instance=ExtResource("1_tumq0")]
transform = Transform3D(0.005305818, 0, -0.99998593, 0, 1, 0, 0.99998593, 0, 0.005305818, -5.9862366, 1.5, -30.29963)

[node name="lights" type="Node3D" parent="." unique_id=1863057904]

[node name="light" parent="lights" unique_id=1771428225 instance=ExtResource("6_0f350")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.567356, 5.658647, 0.17837238)

[node name="light2" parent="lights" unique_id=1426193810 instance=ExtResource("6_0f350")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.3313465, 5.658647, 26.021145)

[node name="light3" parent="lights" unique_id=235537008 instance=ExtResource("6_0f350")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16.318588, 5.52642, -0.97686195)

[node name="light4" parent="lights" unique_id=630963093 instance=ExtResource("6_0f350")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.8916702, 5.52642, -28.468962)

[node name="Table" parent="." unique_id=404156894 instance=ExtResource("7_8c0lf")]
transform = Transform3D(0.026613131, 0, 0.9996458, 0, 0.96967936, 0, -0.9996458, 0, 0.026613131, -0.25059772, 0.7460078, -30.559624)

[node name="Flashlight" parent="." unique_id=360502918 instance=ExtResource("8_754fn")]
transform = Transform3D(-0.19945674, 0, -0.014731198, 0, 0.2, 0, 0.014731198, 0, -0.19945674, -0.5731386, 1.4606438, -30.949368)

[node name="ambience_sounds" type="Node3D" parent="." unique_id=133983811]

[node name="ambience" type="AudioStreamPlayer3D" parent="ambience_sounds" unique_id=2123775214]
transform = Transform3D(0.9999623, 0, 0.00869163, 0, 1, 0, -0.00869163, 0, 0.9999623, 27.085976, 5.4313946, -20.992012)
stream = ExtResource("9_bvt00")
autoplay = true
max_distance = 60.0

[node name="ambience2" type="AudioStreamPlayer3D" parent="ambience_sounds" unique_id=362081251]
transform = Transform3D(0.9999623, 0, 0.00869163, 0, 1, 0, -0.00869163, 0, 0.9999623, -27.76829, 5.4313946, -20.992012)
stream = ExtResource("9_bvt00")
pitch_scale = 0.8
autoplay = true
max_distance = 60.0

[node name="ambience3" type="AudioStreamPlayer3D" parent="ambience_sounds" unique_id=1365467686]
transform = Transform3D(0.9999623, 0, 0.00869163, 0, 1, 0, -0.00869163, 0, 0.9999623, 1.6927681, 5.4313946, 38.294598)
stream = ExtResource("9_bvt00")
pitch_scale = 0.6
autoplay = true
max_distance = 60.0

[node name="ambience4" type="AudioStreamPlayer3D" parent="ambience_sounds" unique_id=742898450]
transform = Transform3D(0.9999623, 0, 0.00869163, 0, 1, 0, -0.00869163, 0, 0.9999623, 1.6927681, 5.4313946, -44.76791)
stream = ExtResource("9_bvt00")
pitch_scale = 0.4
autoplay = true
max_distance = 60.0

[node name="beginning_cutscene" type="Node3D" parent="." unique_id=1633004939]
script = ExtResource("10_oqgf2")

[node name="cutscene_cam" type="Camera3D" parent="beginning_cutscene" unique_id=1691070056]
transform = Transform3D(-1, 0, -1.509958e-07, 0, 1, 0, 1.509958e-07, 0, -1, -4.3856316, 0.85665464, -33.445534)
far = 50.0

[node name="cutscene_anim_player" type="AnimationPlayer" parent="beginning_cutscene" unique_id=161880632]
libraries/ = SubResource("AnimationLibrary_oqgf2")
